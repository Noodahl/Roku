webpackJsonp([31],{1045:function(e,t){},1051:function(e,t){},1133:function(e,t,o){o(54),o(6),o(456),o(510),o(380),o(260)},260:function(e,t,o){"use strict";e.exports=[{docPath:"features/",navPath:"left-nav/features.json"},{docPath:"specs/",navPath:"left-nav/specifications.json"},{docPath:"direct-publisher/",navPath:"left-nav/direct-publisher.json"},{docPath:"developer-program/",navPath:"left-nav/developer-program.json"},{docPath:"references/",navPath:"left-nav/references.json"}]},278:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(764);o.n(n);for(var r in n)"default"!==r&&function(e){o.d(t,e,function(){return n[e]})}(r)},380:function(e,t){Shell.resource.mergeMultipleWithLocales({"Roku.Page.Documents":{en:{title:"Roku Developer | Developer Home | Documentation","title-pre":"Roku Developer | Documentation | ",headline:"developer.roku.com",error:"Document not found.",serviceError:"We are experiencing problems contacting the service. Please try submitting your changes again or refreshing your web browser."},es_MX:{title:"Desarrollador Roku | Página de inicio del desarrollador | Documentación","title-pre":"Desarrollador Roku | Documentación | ",headline:"developer.roku.com",error:"Documento no encontrado.",serviceError:"Tenemos problemas para contactar el servicio. Intenta enviar tus cambios nuevamente o actualiza tu navegador web."},fr_CA:{title:"Roku Developer | Accueil des développeurs | Documentation","title-pre":"Roku Developer | Documentation | ",headline:"developer.roku.com",error:"Document introuvable.",serviceError:"Nous éprouvons des difficultés à contacter le service. Veuillez renvoyer vos modifications ou actualiser votre navigateur."},fr_FR:{title:"Développeur Roku | Page d'accueil pour développeur | Documentation","title-pre":"Développeur Roku | Documentation | ",headline:"developer.roku.com",error:"Document non trouvé.",serviceError:"Nous éprouvons des problèmes de communication avec le service. Veuillez essayer d'envoyer à nouveau vos modifications ou de rafraîchir la fenêtre de votre navigateur web."},es_CO:{title:"Desarrollador Roku | Página de inicio del desarrollador | Documentación","title-pre":"Desarrollador Roku | Documentación | ",headline:"developer.roku.com",error:"Documento no encontrado.",serviceError:"Tenemos problemas para contactar el servicio. Intenta enviar tus cambios nuevamente o actualiza tu navegador web."},es_AR:{title:"Desarrollador Roku | Página de inicio del desarrollador | Documentación","title-pre":"Desarrollador Roku | Documentación | ",headline:"developer.roku.com",error:"Documento no encontrado.",serviceError:"Tenemos problemas para contactar el servicio. Intenta enviar tus cambios nuevamente o actualiza tu navegador web."},es_PE:{title:"Desarrollador Roku | Página de inicio del desarrollador | Documentación","title-pre":"Desarrollador Roku | Documentación | ",headline:"developer.roku.com",error:"Documento no encontrado.",serviceError:"Tenemos problemas para contactar el servicio. Intenta enviar tus cambios nuevamente o actualiza tu navegador web."},es_CL:{title:"Desarrollador Roku | Página de inicio del desarrollador | Documentación","title-pre":"Desarrollador Roku | Documentación | ",headline:"developer.roku.com",error:"Documento no encontrado.",serviceError:"Tenemos problemas para contactar el servicio. Intenta enviar tus cambios nuevamente o actualiza tu navegador web."},es_CR:{title:"Desarrollador Roku | Página de inicio del desarrollador | Documentación","title-pre":"Desarrollador Roku | Documentación | ",headline:"developer.roku.com",error:"Documento no encontrado.",serviceError:"Tenemos problemas para contactar el servicio. Intenta enviar tus cambios nuevamente o actualiza tu navegador web."},es_SV:{title:"Desarrollador Roku | Página de inicio del desarrollador | Documentación","title-pre":"Desarrollador Roku | Documentación | ",headline:"developer.roku.com",error:"Documento no encontrado.",serviceError:"Tenemos problemas para contactar el servicio. Intenta enviar tus cambios nuevamente o actualiza tu navegador web."},es_GT:{title:"Desarrollador Roku | Página de inicio del desarrollador | Documentación","title-pre":"Desarrollador Roku | Documentación | ",headline:"developer.roku.com",error:"Documento no encontrado.",serviceError:"Tenemos problemas para contactar el servicio. Intenta enviar tus cambios nuevamente o actualiza tu navegador web."},es_HN:{title:"Desarrollador Roku | Página de inicio del desarrollador | Documentación","title-pre":"Desarrollador Roku | Documentación | ",headline:"developer.roku.com",error:"Documento no encontrado.",serviceError:"Tenemos problemas para contactar el servicio. Intenta enviar tus cambios nuevamente o actualiza tu navegador web."},es_NI:{title:"Desarrollador Roku | Página de inicio del desarrollador | Documentación","title-pre":"Desarrollador Roku | Documentación | ",headline:"developer.roku.com",error:"Documento no encontrado.",serviceError:"Tenemos problemas para contactar el servicio. Intenta enviar tus cambios nuevamente o actualiza tu navegador web."},es_PA:{title:"Desarrollador Roku | Página de inicio del desarrollador | Documentación","title-pre":"Desarrollador Roku | Documentación | ",headline:"developer.roku.com",error:"Documento no encontrado.",serviceError:"Tenemos problemas para contactar el servicio. Intenta enviar tus cambios nuevamente o actualiza tu navegador web."},pt_BR:{title:"Desenvolvedor do Roku | Página inicial do desenvolvedor | Documentação","title-pre":"Desenvolvedor do Roku | Documentação | ",headline:"developer.roku.com",error:"Documento não encontrado.",serviceError:"Estamos enfrentando problemas para entrar em contato com o serviço. Tente enviar suas alterações novamente ou atualizar seu navegador da web."}}}),e.exports=function(){return Shell.resource.get("Roku.Page.Documents")}},456:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();o(1045);var c=o(746),d=(n(c),o(278));o(260);!function(){var e=function(e){function o(e){r(this,o);var t=a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.state={dropdownLoaded:!1,error:!1},t.dropdownMapping=null,t}return i(o,e),s(o,[{key:"render",value:function(){var e=this.props.shell.resource();return this.state.error?React.createElement("div",null,React.createElement("div",{ref:"headline"}),React.createElement("div",{className:"service-error"},e.serviceError)):React.createElement("div",null,React.createElement("div",{ref:"headline"}),this.dropdownMapping?React.createElement(t,{shell:this.props.shell,dropdownMapping:this.dropdownMapping,pageParams:this.props.pageParams}):React.createElement("div",null))}},{key:"componentDidMount",value:function(){var e=this;Shell.create("Roku.Page.Common.Nav.Docs.Header").trigger("Set headline",this.props.shell.resource().headline).trigger("Render",this.refs.headline),this.state.dropdownLoaded||Shell.create("Roku.Ajax").when("Send GET request",{Url:"/api/v1/get-dev-cms-doc",Parameters:{filePath:"left-nav/dropdown-list.json",locale:"en-us"}}).then(function(t){if(t&&t.Body&&t.Body.content&&!t.Body.error)try{e.dropdownMapping=JSON.parse(t.Body.content),e.setState({error:!1,dropdownLoaded:!0})}catch(t){e.setState({error:!0,documentLoaded:!1})}else e.setState({error:!0,documentLoaded:!1})})}}]),o}(React.Component),t=function(e){function t(e){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.key=0;var n=Shell.find("Roku.App").invoke("Get page config").routeUrl;n.match(/^docs_(.*?)/)?n=n.replace(/(docs_)_?/g,""):n.match(/^\/docs_/)?n=n.replace(/(\/docs_)\/?/g,""):n.match(/^\/docs\//)&&(n=n.replace(/(\/docs\/)\/?/g,"")),o.documentPath="",n&&(o.documentPath=n.replace(/_/g,"/"));var i=Shell.find("Roku.App").invoke("Get user state"),l=i.locale.language+"_"+i.channelstore.country;return o.locale=l,o.locale="en-us",o.menuToggle=o.menuToggle.bind(o),o.state={loading:!0,documentLoaded:!1,navPath:null,error:!1,rightNav:[],headerSelected:0,headers:[],toggled:!1},o}return i(t,e),s(t,[{key:"registerScrollEvent",value:function(){window.addEventListener?window.addEventListener("scroll",this.onVisibilityChange.bind(this),!1):window.attachEvent&&window.attachEvent("onscroll",this.onVisibilityChange.bind(this))}},{key:"onVisibilityChange",value:function(e,t){for(var o=this.refs["docs-content"]?this.refs["docs-content"].querySelectorAll("h2, h3"):[],n=0;n<o.length;n++)this.isElementInViewport(o[n])&&(0===n||n>0&&!this.isElementInViewport(o[n-1]))&&this.setState({headerSelected:n})}},{key:"isElementInViewport",value:function(e){var t=e.getBoundingClientRect();return e.className.indexOf("Roku-Page-Common-Nav-Docs-Header")>-1?t.bottom>0:t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}},{key:"componentDidMount",value:function(){this.loading=Shell.create("Roku.Loading").trigger("Render",this.refs.loading),this.loading.trigger("show"),this.setState({loading:!0}),Shell.find("Roku.App").once("Returned query string",function(e){e&&"true"===e.fullPage&&(this.fullPage=!0)},this).trigger("Get query string")}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.shell.resource();this.refs["docs-content"]&&!this.refs["docs-content"].innerHTML&&Shell.create("Roku.Ajax").when("Send GET request",{Url:"/api/v1/get-dev-cms-doc",Parameters:{filePath:this.documentPath,locale:this.locale}}).then(function(o){if(e.loading.trigger("hide"),o.Body&&!o.Body.error&&o.Body.content){var n=o.Body.content.replace(/<table>/g,'<div class="hscroll"><table>').replace(/<\/table>/g,"</table></div>");if(e.refs["docs-content"].innerHTML=n,e.refs["docs-content"]){var r=e.refs["docs-content"].clientHeight,a=document.getElementById("nav-menu");if(a&&a.clientHeight>r){var i=r+a.clientHeight;e.refs["docs-content"].style.height=i+"px"}}var l=[].slice.call(e.refs["docs-content"].querySelectorAll("h1")),s=l&&l.length?t["title-pre"]+l[0].innerText:t.title;document.title=s;var c=[].slice.call(e.refs["docs-content"].querySelectorAll("h2, h3")),d=[];c.forEach(function(e){var t="H2"!==e.nodeName,o="#"+e.id;d.push({header:e.innerText,sub:t,link:o})}),e.setState({error:!1,loading:!1,documentLoaded:!0,rightNav:d,headers:c},function(){e.registerScrollEvent(),setTimeout(function(){var e=window.location.hash;if(e){e=e.replace("#","");var t=document.getElementById(e);t&&window.scrollTo(0,t.offsetTop-5)}},500)})}else e.setState({error:!0,loading:!1,documentLoaded:!1})})}},{key:"componentWillUnmount",value:function(){this.state.documentLoaded&&window.removeEventListener&&window.removeEventListener("scroll",this.onVisibilityChange)}},{key:"updateNav",value:function(e,t){var o=this,n=function e(t){for(var o=Object.keys(t),n=0;n<o.length;n++){var r=t[o[n]];if("string"==typeof r)return r;if("object"===(void 0===r?"undefined":l(r)))return e(r)}};return new Promise(function(r,a){Shell.create("Roku.Ajax").when("Send GET request",{Url:"/api/v1/get-dev-cms-doc",Parameters:{filePath:e||"left-nav/developer-program.json",locale:o.locale||"en-us"}}).then(function(e){if(e&&e.Body&&e.Body.content&&!e.Body.error){var o=JSON.parse(e.Body.content);if(t){var i=n(o);i&&r({reload:i})}else r({error:!1,navLoaded:!0,navContent:o})}else a({error:!0,navLoaded:!1})})})}},{key:"menuToggle",value:function(){this.refs.docNavMobile&&this.refs.docNavMobile.classList&&this.refs.docNavMobile.classList.toggle("hidden");var e=!this.state.toggled;this.setState({toggled:e})}},{key:"getDropdownItems",value:function(){var e=this,t={};return Object.keys(this.props.dropdownMapping).forEach(function(o){var n=e.props.dropdownMapping[o];t[n.name]=n.navPath}),t}},{key:"render",value:function(){var e=this.props.shell.resource(),t=0,o=null;if(this.props.dropdownMapping){o=this.getDropdownItems();for(var n=0;n<Object.keys(this.props.dropdownMapping).length;n++)if(-1!==this.documentPath.indexOf(this.props.dropdownMapping[n].docPath)){t=n;break}}if(this.state.error)return React.createElement("div",{className:"container",ref:"container"},React.createElement("div",{ref:"loading"}),React.createElement("div",{className:"content"},React.createElement(d.DocumentNav,{ref:"left-nav",key:this.key++,showAll:!0,docsToNavMapping:this.props.dropdownMapping,documentPath:this.documentPath,dropdownIndex:t,updateNav:this.updateNav,dropdownItems:o}),React.createElement("div",{className:"post-content doc-error"+(this.fullPage?" full-page":""),ref:"post-content"},React.createElement("div",{className:"markdown-body"},e.error))));if("true"!==e.features["developer.document.lambda.enable"])return Shell.find("Roku.App").trigger("Navigate to page and reload","/developer");if(this.props.dropdownMapping){var r=this.state.toggled?React.createElement("div",{className:"mobile-menu-icon mobile-menu-close-icon glyphicon glyphicon-close",onClick:this.menuToggle}):React.createElement("div",{className:"mobile-menu-icon glyphicon glyphicon-menu",onClick:this.menuToggle});return React.createElement("div",{className:"container"},React.createElement("div",{ref:"loading"}),React.createElement("div",{className:"content"},React.createElement(d.DocumentNav,{ref:"left-nav",fullPage:!1,docsToNavMapping:this.props.dropdownMapping,documentPath:this.documentPath,dropdownIndex:t,showAll:!1,updateNav:this.updateNav,dropdownItems:o,isFullNav:!0}),React.createElement("div",{className:"docnav-mobile-icon"},r),React.createElement("div",{className:"post-content"+(this.fullPage?" full-page":""),ref:"post-content"},React.createElement("div",{className:"content-area"},React.createElement("div",{ref:"docNavMobile",id:"doc-nav-mobile",className:"hidden"},React.createElement(d.DocumentNav,{ref:"left-nav",fullPage:!1,docsToNavMapping:this.props.dropdownMapping,documentPath:this.documentPath,dropdownIndex:t,showAll:!1,updateNav:this.updateNav,dropdownItems:o})),React.createElement("div",{ref:"tocMobile",id:"toc-mobile"},React.createElement(d.DocumentNavTOC,{ref:"toc-mobile",nav:this.state.rightNav,selected:this.state.headerSelected,headers:this.state.headers})),React.createElement("div",{ref:"docs-content",className:"markdown-body developer-content-body"}))),React.createElement("div",{id:"toc-full"},React.createElement(d.DocumentNavTOC,{ref:"right-nav",nav:this.state.rightNav,selected:this.state.headerSelected,headers:this.state.headers,isFullToc:!0}))))}return React.createElement("div",null,React.createElement("div",{ref:"loading"}))}}]),t}(React.Component);Shell.create("Roku.Shellify").trigger("Define page",{name:"Roku.Page.Documents",component:e})}()},510:function(e,t){},54:function(e,t,o){o(70),o(67),o(68)},561:function(e,t){Shell.resource.mergeMultipleWithLocales({"Roku.DocumentNav.Left":{en:{"aria-label":"Select documentation subcategory",error:"Unavailable"},es_MX:{error:"No disponible"},fr_CA:{error:"Non disponible"},fr_FR:{error:"Non disponible"},es_CO:{error:"No disponible"},es_AR:{error:"No disponible"},es_PE:{error:"No disponible"},es_CL:{error:"No disponible"},es_CR:{error:"No disponible"},es_SV:{error:"No disponible"},es_GT:{error:"No disponible"},es_HN:{error:"No disponible"},es_NI:{error:"No disponible"},es_PA:{error:"No disponible"}}}),e.exports=function(){return Shell.resource.get("Roku.DocumentNav.Left")}},562:function(e,t){Shell.resource.mergeMultipleWithLocales({"Roku.DocumentNav.TOC":{en:{"toc.heading":"Table of contents","show.all":"Show all...","show.less":"Show less...","show.all.title":"Show all","show.less.title":"Show less"}}}),e.exports=function(){return Shell.resource.get("Roku.DocumentNav.TOC")}},67:function(e,t,o){"use strict";Shell.define("Roku.Page.Common.Nav.Docs.Header",{strict:!0,inputs:{Render:"dom","Set headline":"string"}})},68:function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();Shell.implement("Roku.Page.Common.Nav.Docs.Header",function(e){e.on("Render",function(o){ReactDOM.render(React.createElement(t,{shell:e,headline:this.headline}),o)},this),e.on("Set headline",function(e){this.headline=e},this);var t=function(t){function o(){return n(this,o),r(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return a(o,t),i(o,[{key:"render",value:function(){var t=this.props.headline||"developer.roku.com",o=e.resource().endpoints.developer+"/developer";return React.createElement("div",null,React.createElement("div",{className:"developer-docs-header"},React.createElement("div",{className:"dashboard-link"},React.createElement("a",{href:o},React.createElement("h1",null,t)))))}}]),o}(React.Component)})},70:function(e,t){},746:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DocErrors={LAMBDA_ERROR:"lambda invocation error",MISSING_CONTENT:"missing content",INCORRECT_FILE_PATH:"incorrect file path",PARSE_ERROR:"parse error",GENERAL_ERROR:"general error"}},764:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AdjustElementHeight=t.AdjustElementY=t.DocumentNavTOC=t.DocumentNav=void 0;var a=o(9),i=r(a);o(1051);var l=o(765),s=n(l),c=o(766),d=n(c);t.DocumentNav=(0,i.default)(s.DocumentNav),t.DocumentNavTOC=(0,i.default)(d.DocumentNavTOC),t.AdjustElementY=d.AdjustElementY,t.AdjustElementHeight=d.AdjustElementHeight},765:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentNav=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(2),d=n(c),u=o(3),p=n(u),m=o(159),h=o(278),v=o(561),f=n(v),g={docsToNavMapping:p.default.object,documentPath:p.default.string,dropdownIndex:p.default.number,showAll:p.default.bool,updateNav:p.default.func,dropdownItems:p.default.object,fullPage:p.default.bool,isFullNav:p.default.bool},b={docsToNavMapping:null,documentPath:"",dropdownIndex:0,showAll:!0,fullPage:!1,isFullNav:!1},y=">>",E="<<",w=t.DocumentNav=function(e){function t(e){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.resource=(0,f.default)(),o.locale="en-us",o.state={navLoaded:!1,error:!1},o}return i(t,e),s(t,[{key:"setNavLoaded",value:function(e){this.setState({navLoaded:e})}},{key:"setError",value:function(e){this.setState({error:e})}},{key:"addSlidingBehavior",value:function(){document.getElementById("slide-panel")&&(document.getElementById("slide-panel").onclick=function(){document.getElementById("nav-menu").classList.toggle("hide-panel");var e=document.getElementsByClassName("doc-nav-full"),t=document.getElementById("nav-menu");e.length&&t&&(t.classList.contains("hide-panel")?e[0].classList.add("minimized"):e[0].classList.remove("minimized")),document.getElementById("slide-panel").classList.contains("double-arrow-left")?(document.getElementById("slide-panel").classList.remove("double-arrow-left"),document.getElementById("slide-panel").classList.add("double-arrow-right"),document.getElementById("slide-panel").classList.add("minimized"),document.querySelector("#nav-menu nav .doc-nav #slide-panel").innerText=y):(document.getElementById("slide-panel").classList.remove("double-arrow-right"),document.getElementById("slide-panel").classList.add("double-arrow-left"),document.getElementById("slide-panel").classList.remove("minimized"),document.querySelector("#nav-menu nav .doc-nav #slide-panel").innerText=E)}.bind(this))}},{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("Roku-DocumentNav");e.length&&this.props.isFullNav&&e[0].classList.add("doc-nav-full"),this.addSlidingBehavior(),window.addEventListener("scroll",(0,h.AdjustElementHeight)(this.refs["nav-menu"]).bind(this)),window.addEventListener("scroll",(0,h.AdjustElementY)(this.refs["nav-menu"]).bind(this));var t=void 0;this.props.dropdownIndex>=0&&Object.keys(this.props.docsToNavMapping).length&&(t=this.props.docsToNavMapping[this.props.dropdownIndex].navPath),this.updateNav(t,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",(0,h.AdjustElementHeight)(this.refs["nav-menu"]).bind(this)),window.removeEventListener("scroll",(0,h.AdjustElementY)(this.refs["nav-menu"]).bind(this))}},{key:"updateNav",value:function(e,t){var o=this;this.props.updateNav&&this.props.updateNav(e,t).then(function(e){e.reload?Shell.find("Roku.App").trigger("Navigate to page and reload",e.reload):(e.navContent&&(o.navContent=e.navContent),o.setState({error:e.error,navLoaded:e.navLoaded}))})}},{key:"render",value:function(){var e=this.props,t=(e.fixed,e.fullPage),o=["nav-menu"];return t&&o.push("hidden"),d.default.createElement("div",{className:o.join(" "),id:"nav-menu",tabIndex:"-1",role:"menu",ref:"nav-menu"},d.default.createElement("nav",null,d.default.createElement(k,{key:"navDropdown",updateNav:this.updateNav.bind(this),dropdownIndex:this.props.dropdownIndex,docsToNavMapping:this.props.docsToNavMapping,dropdownItems:this.props.dropdownItems}),d.default.createElement("div",{ref:"doc-nav",className:this.state.error?"doc-nav hidden":"doc-nav"},d.default.createElement(N,{tree:this.navContent,documentPath:this.props.documentPath,showAll:this.props.showAll}),d.default.createElement("span",{id:"slide-panel",className:"roku-color-c6 double-arrow-left"},E))))}}]),t}(d.default.Component),k=function(e){function t(e){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={dropdownLoaded:!1},o.dropdownItems=o.props.dropdownItems,o.dropdownIndex=o.props.dropdownIndex,o.resource=(0,f.default)(),o}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.dropdownItems&&this.setState({dropdownLoaded:!0})}},{key:"onDropdownSelected",value:function(e){for(var t=0;t<Object.keys(this.props.docsToNavMapping).length;t++)if(e.target.value===this.props.docsToNavMapping[t].navPath){this.dropdownIndex=t;break}this.props.updateNav&&this.props.updateNav(e.target.value,!0)}},{key:"render",value:function(){var e=this,t=[],o=0,n="";this.dropdownItems&&Object.keys(this.dropdownItems).forEach(function(r){var a={label:r,type:"link",value:e.dropdownItems[r]};t.push(a),"error"===r?n=e.resource.error:o===e.dropdownIndex&&(n=r),o++});var r="";return t.length&&(r=t[this.props.dropdownIndex].value),d.default.createElement("div",{className:"doc-nav-dropdown"},d.default.createElement(m.Select,{name:"feedType",onChange:this.onDropdownSelected.bind(this),value:r,ariaLabel:(0,f.default)()["aria-label"]},t.map(function(e,t){return d.default.createElement(m.Option,{key:t,value:e.value},e.label)})))}}]),t}(d.default.Component),N=function(e){function t(e){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.makeTreeVisible=!1,e.showAll?o.makeTreeVisible=!0:e.treeParent?e.tree&&o.treeContainsDocument(e.tree,e.documentPath)&&(o.makeTreeVisible=!0):o.makeTreeVisible=!0,o}return i(t,e),s(t,[{key:"treeContainsDocument",value:function(e,t){for(var o=Object.keys(e),n={},r=function(r){var a=o[r],i=e[a];if("string"==typeof i){if(i.replace("/docs/","")===t)return{v:!0}}else if("object"===(void 0===i?"undefined":l(i))){var s=JSON.parse(JSON.stringify(i));Object.keys(s).forEach(function(e){s[a+" "+e]=s[e],delete s[e]}),n=Object.assign(s,n)}},a=0;a<o.length;a++){var i=r(a);if("object"===(void 0===i?"undefined":l(i)))return i.v}return!!Object.keys(n).length&&this.treeContainsDocument(n,t)}},{key:"hideChildren",value:function(){this.refs&&this.refs["current-tree"]&&this.refs["current-tree"].classList.toggle("hidden")}},{key:"addToChildTrees",value:function(e,t){e&&(e.treeName=t,this.childTrees.push(e))}},{key:"render",value:function(){var e=this;if(this.childTrees=[],!this.props.tree||!Object.keys(this.props.tree)||!Object.keys(this.props.tree).length)return d.default.createElement("ul",{ref:"current-tree"});var o=[],n=!1;return Object.keys(this.props.tree).forEach(function(r){var a=e.props.tree[r];if("break"===r.toLowerCase()||r.toLowerCase().match(/^break([0-9]+)$/))n=!0;else if("string"==typeof a){var i=a.replace("/docs/",""),s=i===e.props.documentPath;o.push(d.default.createElement("li",{className:"doc-nav-list-item"+(s?" selected":"")+(n?" separator":"")},d.default.createElement("a",{className:"doc-nav-subcategory-link",href:a,title:r},r))),n&&(n=!1)}else if("object"===(void 0===a?"undefined":l(a))){var c=e.treeContainsDocument(a,e.props.documentPath),u=e.props.showAll,p=["doc-nav-group"];c&&(p.push("selected"),p.push("open")),n&&(p.push("separator"),n=!1),o.push(d.default.createElement("li",{className:p.join(" ")},d.default.createElement("div",{className:"doc-nav-title"+(c?" open":""),onClick:e.toggleList.bind(e)},r),d.default.createElement("div",{className:"doc-nav-subcategory"},d.default.createElement(t,{documentPath:e.props.documentPath,showAll:u,treeParent:e,ref:function(t){e.addToChildTrees(t,r)},tree:a}))))}}),d.default.createElement("ul",{ref:"current-tree",className:"doc-nav-list "+(this.makeTreeVisible?"showing":"hidden")},o)}},{key:"toggleList",value:function(e){e.target.classList.toggle("open"),e.target.parentElement.classList.toggle("open");for(var t=0;t<this.childTrees.length;t++)this.childTrees[t]&&e.target.innerText===this.childTrees[t].treeName&&this.childTrees[t].hideChildren()}}]),t}(d.default.Component);w.className="Roku.DocumentNav",w.propTypes=g,w.defaultProps=b},766:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentNavTOC=t.AdjustElementY=t.AdjustElementHeight=void 0;var l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(2),c=n(s),d=o(3),u=n(d),p=o(562),m=n(p),h={nav:u.default.array,selected:u.default.number,headers:u.default.array,leftPos:u.default.number,isFullToc:u.default.bool},v={nav:[],selected:0,headers:[],leftPos:0,isFullToc:!1},f=">>",g="<<",b=t.AdjustElementHeight=function(e){return function(){var t=document.getElementsByClassName("nav-footer")[0]||document.querySelector("footer.cc-invisible");if(t){var o=t.getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,window.innerHeight);o.bottom<0||o.top-n>=0?e.style.maxHeight=n+"px":e.style.maxHeight=o.top+"px"}}},y=t.AdjustElementY=function(e){return function(){var t=document.getElementsByClassName("Roku-HeaderV2")[0];if(t){var o=t.getBoundingClientRect();Math.max(document.documentElement.clientHeight,window.innerHeight);e.style.top=o.bottom>0?String(o.bottom)+"px":"0px"}}},E=t.DocumentNavTOC=function(e){function t(e){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handleClick=function(e){e.preventDefault();var t=e.target.href.indexOf("#")+1;window.scrollTo(0,o.props.headers[e.target.dataset.key].offsetTop-5),window.location.hash=e.target.href.slice(t)},o.resource=(0,m.default)(),o.clickMobileToc=o.clickMobileToc.bind(o),o.state={extraItemsHidden:!0},o}return i(t,e),l(t,[{key:"addSlidingBehavior",value:function(){document.getElementById("slide-icon-left")&&(document.getElementById("slide-icon-left").onclick=function(){if(this.tocWidth){var e=document.getElementById("toc-full");e&&(e.style.minWidth=this.tocWidth+"px")}var t=document.getElementById("toc-parent");t&&t.classList.toggle("minimized");var o=document.getElementsByClassName("toc-list");o&&o[0].classList.remove("hidden");var n=document.getElementById("slide-icon-right");n&&n.classList.remove("hidden"),document.getElementById("slide-icon-left")&&document.getElementById("slide-icon-left").classList.add("hidden")}.bind(this)),document.getElementById("slide-icon-right")&&(document.getElementById("slide-icon-right").onclick=function(){var e=document.getElementById("toc-full");e&&(this.tocWidth||(this.tocWidth=e.clientWidth),e.style.minWidth="0px");var t=document.getElementById("toc-parent");t&&t.classList.toggle("minimized");var o=document.getElementsByClassName("toc-list");o&&o[0].classList.add("hidden");var n=document.getElementById("slide-icon-right");n&&n.classList.add("hidden"),document.getElementById("slide-icon-left")&&document.getElementById("slide-icon-left").classList.remove("hidden")}.bind(this))}},{key:"componentDidMount",value:function(){this.props.isFullToc&&(this.addSlidingBehavior(),window.addEventListener("scroll",b(document.getElementById("toc-list")).bind(this)),window.addEventListener("scroll",y(document.getElementById("toc-container")).bind(this)))}},{key:"componentWillUnmount",value:function(){this.props.isFullToc&&(window.removeEventListener("scroll",b(document.getElementById("toc-list")).bind(this)),window.removeEventListener("scroll",y(document.getElementById("toc-container")).bind(this)))}},{key:"clickMobileToc",value:function(){var e=document.getElementsByClassName("extra-list-item");if(e&&e.length){for(var t=0;t<e.length;t++)e[t].classList.toggle("hidden");this.setState({extraItemsHidden:!this.state.extraItemsHidden})}}},{key:"render",value:function(){var e=this,t=this.state.extraItemsHidden?this.resource["show.all"]:this.resource["show.less"],o=this.state.extraItemsHidden?this.resource["show.all.title"]:this.resource["show.less.title"],n="toc-container"+(this.props.isFullToc?"":"-mobile"),r="toc-list"+(this.props.isFullToc?"":"-mobile"),a=this.props.nav.length,i=a>=4;return c.default.createElement("div",{id:"toc-parent"},this.props.isFullToc&&c.default.createElement("div",{id:"slide-icon-left",className:"roku-color-c6 double-arrow-left hidden"},g),c.default.createElement("nav",{id:n,className:n,tabIndex:"-1"},c.default.createElement("div",null,this.props.isFullToc&&c.default.createElement("div",{id:"slide-icon-right",className:"roku-color-c6 double-arrow-right"},f),!this.props.isFullToc&&a>0&&c.default.createElement("h2",null,this.resource["toc.heading"]),c.default.createElement("ul",{className:r,id:r},this.props.nav.map(function(t,o){var n=e.props.isFullToc&&o==e.props.selected,r=!e.props.isFullToc&&o>3;return c.default.createElement("li",{key:o,className:"toc-item"+(t.sub?" sub":"")+(n?" selected":"")+(r?" extra-list-item hidden":"")},c.default.createElement("a",{"data-key":o,role:"button",onClick:e.handleClick,title:t.header,href:t.link?t.link:"#"},t.header))}),!this.props.isFullToc&&i&&c.default.createElement("li",{id:"show-all"},c.default.createElement("a",{title:o,role:"button",onClick:this.clickMobileToc,href:"#"},t))))))}}]),t}(c.default.Component);E.className="Roku.DocumentNav.TOC",E.propTypes=h,E.defaultProps=v}},[1133]);